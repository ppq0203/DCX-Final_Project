<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layout/defaultLayout}">
<th:block layout:fragment="content">
	<!-- 출석 사유 모달창-->
	<div class="modal fade" id="myModal" role="dialog">
		<div class="modal-dialog" style="overflow: hidden;">
			<!-- 모달 내용 -->
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">사유 등록</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<form id="faqForm">
					<div class="modal-body">
						<div class="form-group">
							<label for="message">사유:</label>
							<textarea class="form-control" id="message" placeholder="내용을 입력하세요" required></textarea>
						</div>
					</div>
					<div class="modal-footer">
						<button type="submit" class="btn btn-default">등록</button>
					</div>
				</form>
			</div>
		</div>
	</div>
	<!--성장 그래프 상세보기 모달창-->
	<div class="modal fade" id="modal-xl" style="display: none;" aria-hidden="true">
		<div class="modal-dialog modal-dialog-cented modal-xl">
			<div class="modal-content">
				<div class="col-12 modal-header">
					<h4 class="col-12 modal-title text-center">학생 성장그래프</h4>
					<!--<button type="button" class="close col-1" data-dismiss="modal" aria-label="Close">-->
					<!--<span aria-hidden="true">×</span>-->
					</button>
				</div>
				<div class="modal-body">
					<div class="chart">
						<div class="chartjs-size-monitor">
							<div class="chartjs-size-monitor-expand">
								<div class=""></div>
							</div>
							<div class="chartjs-size-monitor-shrink">
								<div class=""></div>
							</div>
						</div>
						<canvas id="lineChart"
							style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 406px;"
							width="812" height="500" class="chartjs-render-monitor"></canvas>
					</div>
				</div>
				<div class="modal-footer justify-content-between">
					<div class="col-12">
						<div class="col-1 mx-auto">
							<button type="button" class="btn btn-primary" data-dismiss="modal">닫기</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--마이페이지-->
	<div class="content-wrapper">
		<!-- Main content -->
		<section class="content">
			<div class="p-2">
				<div class="col -10">
					<div class="dropdown">
						<span>
							<h2>마이페이지</h2>
						</span>
					</div>
				</div>
			</div>
		</section>

		<div class="content">
			<div class="row p-4">
				<!--캘린더-->
				<div class="card card-primary card-outline col-6 m-1">
					<h3 class="card-title text-center mb-0" style="font-size: 2vw;">캘린더</h3>
					<div class="card-body">
						<div id="calendar"></div>
					</div>

				</div>
				<!--차트-->
				<div class="card card-primary card-outline col m-1">
					<h3 class="card-title text-center" style="font-size: 2vw;">학생 현황</h3>
					<div class="card-body ">
						<table class="table text-center">
							<thead>
								<tr>
									<th scope="col">No.</th>
									<th scope="col">이름</th>
									<th scope="col">출석일자</th>
									<th scope="col">성장그래프</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><span>1</span></td>
									<td><span>이름</span></td>
									<td><span>1</span></td>
									<td>
										<button type="button" class="btn btn-default" data-toggle="modal"
											data-target="#modal-xl">
											상세보기
										</button>

									</td>
								</tr>
							</tbody>
						</table>
						<!--<div class="chart">
							<div class="chartjs-size-monitor">
								<div class="chartjs-size-monitor-expand">
									<div class=""></div>
								</div>
								<div class="chartjs-size-monitor-shrink">
									<div class=""></div>
								</div>
							</div>
							<canvas id="lineChart" style="display: block;" height="500w" width="812"
								class="chartjs-render-monitor"></canvas>
						</div>-->
					</div>
				</div>
			</div>
			<!--1번 row-->
			<!--출결관리-->
			<div class="row p-4">
				<div class="card card-primary card-outline col-md-8 m-1 ">
					<h3 class="card-title text-center" style="font-size: 2vw;">출석 관리</h3>
					<div class-="row mt-0">
						<div class="col-11 d-grid gap-2 d-md-flex justify-content-md-end mt-2 ml-2">
							<button class="btn btn-primary me-md-2" type="button">저장</button>
						</div>
					</div>
					<div class="card-body table-responsive">
						<table class="table table-hover text-nowrap text-center">
							<thead>
								<tr>
									<th>이름</th>
									<th>출석</th>
									<th>지각</th>
									<th>조퇴</th>
									<th>외출</th>
									<th>결석</th>
									<th>사유</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>아무개</td>
									<td>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" value="" id="attendance">
										</div>
									</td>
									<td>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" value="" id="late">
										</div>
									</td>
									<td>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" value="" id="early_leave">
										</div>
									</td>
									<td>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" value="" id="outing">
										</div>
									</td>
									<td>
										<div class="form-check">
											<input class="form-check-input" type="checkbox" value="" id="absent">
										</div>
									</td>
									<td><button type="button" class="btn btn-primary" data-toggle="modal"
											data-target="#myModal">등록</button></td>
								</tr>
							</tbody>
						</table>
					</div>
					<!--미구현-->
				</div>
				<div class="card card-primary card-outline col-md-3 m-1">
					<div class="card-body">
						<div id="calendar"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script>
		<!--드롭앤다운-->
		var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'))
		var dropdownList = dropdownElementList.map(function (dropdownToggleEl) {
			return new bootstrap.Dropdown(dropdownToggleEl)
		})

		$(document).ready(function () {
			$('#calendar').fullCalendar({
				header: {
					left: 'prev,next today',
					center: 'title',
					right: 'month,agendaWeek,agendaDay'
				},
				defaultView: 'month', // 기본 뷰 설정 (월간)
				editable: true, // 이벤트 편집 가능 여부
				events: [
					{
						title: '이벤트 1',
						start: '2023-06-01'
					},
					{
						title: '이벤트 2',
						start: '2023-06-05',
						end: '2023-06-07'
					},
					{
						title: '이벤트 3',
						start: '2023-06-09T12:30:00'
					}
				]
			});
		});
		var areaChartData = {
			labels: ['Java', 'Python', '빅데이터 분석', '머신러닝', '딥러닝'],
			datasets: [
				/*{
					label: 'Digital Goods',
					backgroundColor: 'rgba(60,141,188,0.9)',
					borderColor: 'rgba(60,141,188,0.8)',
					pointRadius: false,
					pointColor: '#3b8bba',
					pointStrokeColor: 'rgba(60,141,188,1)',
					pointHighlightFill: '#fff',
					pointHighlightStroke: 'rgba(60,141,188,1)',
					data: [28, 48, 40, 19, 86]
				},*/
				{
					label: 'Electronics',
					backgroundColor: 'rgba(210, 214, 222, 1)',
					borderColor: 'rgba(210, 214, 222, 1)',
					pointRadius: false,
					pointColor: 'rgba(210, 214, 222, 1)',
					pointStrokeColor: '#c1c7d1',
					pointHighlightFill: '#fff',
					pointHighlightStroke: 'rgba(220,220,220,1)',
					data: [10, 59, 80, 81, 56]
				},
			]
		}
		var areaChartOptions = {
			maintainAspectRatio: false,
			responsive: true,
			legend: {
				display: false
			},
			scales: {
				xAxes: [{
					gridLines: {
						display: false,
					}
				}],
				yAxes: [{
					gridLines: {
						display: false,
					}
				}]
			}
		}

		//- LINE CHART -
		//--------------
		var lineChartCanvas = $('#lineChart').get(0).getContext('2d')
		var lineChartOptions = $.extend(true, {}, areaChartOptions)
		var lineChartData = $.extend(true, {}, areaChartData)
		lineChartData.datasets[0].fill = false;
		//lineChartData.datasets[1].fill = false;
		lineChartOptions.datasetFill = false

		var lineChart = new Chart(lineChartCanvas, {
			type: 'line',
			data: lineChartData,
			options: lineChartOptions
		})

	</script>
</th:block>

</html>